<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<html>
    <link rel="stylesheet" href="res/style.css">

    <div class="header">
        <a href="index" class="logo">Nicole Swierstra</a>
        <div class="header-right">
            <a href="graphicstest.html">Portfolio</a>
            <a href="#about">About</a>
        </div>
    </div>


    <script src='https://git.io/glm-js.min.js'></script>
    <script type="module" src="src/hellotriangle.js"></script>
    <canvas width = 600px height = 480px id = "my_Canvas"></canvas>
    <body>
        
        <div style="margin: 250px;">
            <br>
        </div>

        <div style="text-align: center;font-size: 50pt;opacity: 0.5; margin-bottom: 100px;">
            â–½
        </div>

        <div style="background-color: var(--d_dark-grey);">
            <br>
            <h1 class="full-paragraph">
                Portfolio
            </h1>
           
            <div style="margin-bottom:20pt">
                <h2 class="full-paragraph">
                    Viking 66 VCU OS
                </h2>
                <figure style="width: 80%; display: block; margin-left: auto; margin-right: auto;">
                    <img src="res/V66CodeSnippet.png" style="width: 100%; display: block;">
                    <figcaption>V66 VCU Code Snippet</figcaption>
                </figure>
                <div class="full-paragraph">
                    The V66 VCU was the controller that powered the Viking 66 FSAE car.
                    The processor was a little underpowered, so required a very optimized control algorithm to get it working anywhere near real time.
                    <br><br>
                </div>
                <div style="display: flex; width: 100%;"> 
                    <div class="left-paragraph">
                        The VCU takes in sensor data from the accelerator pedal and the brake pedal in order to figure out how much torque the motor should put out.
                        Because of the low power and lack of FPU in the chip, only a couple dozen floating point operations are used. 
                        <br><br>
                        The VCU Talks to a cascadia motion CM200 over the CAN bus, and reveals internal state over CAN as well.
                        <br>
                    </div>
                    <figure style="width: 40%; margin-right: 5%; float:right;">
                        <img src="res/V66-testing.png" style="width: 100%; display: block;">
                        <figcaption>Testing for the control algorithm</figcaption>
                    </figure>
                </div>
                <div style="display: flex; width:100%"> 
                    <figure style="width: 40%; margin-left: 5%; float:left; display: inline;">
                        <video src="nicoleswierstra.github.io/res/workingVCU.mp4" style="width: 100%; display: block;" autoplay loop muted></video>
                        <figcaption>Early working VCU</figcaption>
                    </figure>
                    <div class="right-paragraph"> 
                        <br><br>
                        The realtime control algorithm runs once every 5ms. The entire thing is written very baremetal, with a custom RTOS sitting on top of bare CMSIS register bindings
                        <br><br>
                        In the future, I hope to move the entire program over to chibiOS, but the performance hit for such a gutless chip may be too great
                    </div>
                </div>
                <div class="full-paragraph" style="width: 100%;"><br><br></div> 
            </div>

            <div style="display: block; width: 100%;">
                <h2 class="full-paragraph">
                    Viking 67 VCU
                </h2>
                <figure style="width: 80%; display: block; margin-left: auto; margin-right: auto;">
                    <img src="res/V67LinuxStmPCB.png" style="width: 100%; display: block;">
                    <figcaption>Early Design for the V67 VCU</figcaption>
                </figure>
                <div class="full-paragraph">
                    The V67 VCU is a work in progress ASMP board with a linux system sitting on top of a real time subsystem.
                    Initially designed for the stm32MP1, chip selection is still in progress. 
                </div>
            </div>
            <div style="margin-bottom: 400px;"><br></div>
        </div>
    </body>
</html>
